## Chapter 04 설계 품질과 트레이드오프
- 객체지향 설계의 핵심은 역할, 책임, 협력이다.
- 협력은 애플리케이션의 기능을 구현하기 위해 메시지를 주고받는 객체들 사이의 상호작용이다.
- 책임은 객체가 다른 객체와 협력하기 위해 수행하는 행동이다.
- 역할은 대체 가능한 책임의 집합이다.
- 객체들이 수행할 책임이 적절하게 할당되지 못한 상황에서는 원활한 협력도 기대할 수 없을 것이다. 
- 역할은 책임의 집합이기 때문에 책임이 적절하지 못하면 역할 역시 협력과 조화를 이루지 못한다.
- 결국 책임이 객체지향 애플리케이션 전체의 품질을 결정하는 것이다.

### 01 데이터 중심의 영화 예매 시스템
- 데이터 중심의 관점에서 객체는 자신이 포함하고 있는 데이터를 조작하는 데 필요한 오퍼레이션을 정의한다.
- 책임 중심의 관점에서 객체는 다른 객체가 요청할 수 있는 오퍼레이션을 위해 필요한 상태를 보관한다.

### 02 설계 트레이드오프
#### 캡슐화
- 상태와 행동을 하나의 객체 안에 모으는 이유는 객체의 내부 구현을 외부로부터 감추기 위해서다.
- 변경될 가능성이 높은 부분을 구현이라고 부르고 상대적으로 안정적인 부분을 인터페이스라고 부른다.
- 객체를 설계하기 위한 가장 기본적인 아이디어는 변경의 정도에 따라 구현과 인터페이스를 분리하고 외부에서는 인터페이스에만 의존하도록 관계를 조절하는것.
- 캡슐화는 외부에서 알 필요가 없는 부분을 감춤으로써 대상을 단순화하는 추상화의 한 종류.
- 캡슐화란 변경 가능성이 높은 부분을 객체 내부로 숨기는 추상화 기법.

#### 응집도와 결합도
- 응집도는 모듈에 포함된 내부 요소들이 연관돼 있는 정도를 나타낸다.
- 모듈 내의 요소들이 하나의 목적을 위해 긴밀하게 협력한다면 그 모듈은 높은 응집도를 가진다.
- 객체지향의 관점에서 응집도는 객체 또는 클래스에 얼마나 관련 높은 책임들을 할당했는지를 나타낸다.
- 결합도는 의존성의 정도를 나타내며 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타내는 척도다.
- 어떤 모듈이 다른 모듈에 대해 너무 자세한 부분까지 알고 있따면 두 모듈은 높은 결합도를 가진다.
- 어떤 모듈이 다른 모듈에 대해 꼭 필요한 지식만 알고 있따면 낮은 결합도를 가진다.
- 객체지향의 관점에서 결합도는 객체 또는 클래스가 협력에 필요한 적절한 수준의 관계만을 유지하고 있는지를 나타낸다.
- 캡슐화를 지키면 모듈 안의 응집도는 높아지고 모듈 사이 결합도는 낮아진다

### 03 데이터 중심의 영화 예매 시스템의 문제점
#### 캡슐화 위반
- 데이터 중심으로 설계한 클래스를 보면 오직 메서드를 통해서만 객체의 내부 상태에 접근할 수 있다는 것을 알 수 있다.
- 객체가 수행할 책임이 아니라 내부에 저장할 데이터에 초점을 맞췄기에 캡슐화의 원칙을 어기게 되었다.
- 설계할 때 협력에 관해 고민하지 않으면 캡슐화를 위반하는 과도한 접근자와 수정자를 가지게 되는 경향이 있다.
- 앨런 홀럽은 이처럼 접근자와  수정자에 과도하게 의존하는 설계 방식을 추측에 의한 설계 전략 이라고 부른다.
- 이 전략은 객체가 사용될 협력을 고려하지 않고 객체가 다양한 상황에서 사용될 수 있을 것이라는 막연한 추측을 기반으로 설계를 진행한다.
- 대부분의 내부 구현이 퍼블릭 인터페이스에 그대로 노출될 수밖에 없는 것이다. 그 결과, 캡슐화의 원칙을 위반하는 변경에 취약한 설계를 얻게 된다.
